---
layout: post
title: 微信营销打假-车轮考驾照集字送学驾照费用
date: 2015-08-25 15:15:17
tags: [微信营销打假]
published: True

---
话说本人还没有驾照,想想那时上大学考驾照不到2k,懒得没考,现在想想甚是后悔.来到一线城市后,水涨船高,没个万把块搞不下来,那天朋友圈有人分享车轮考驾照集字送学驾照费用,有点动心了,就看了看人家活动,照着规则找了好多朋友去集字,最后集的就剩一个字了,有点心不甘,继续找人集,结果可想而知,死活集不到,然后就动起了歪脑筋,看了看人家代码,这一看不知道,看了吓一跳,如下图

![图一]({{site.baseurl}}/assets/img/2015-08-25/IMG_0619.JPG)

通过上图人家工程师代码注释来看,总结一句话,活动貌似是真的,但是一个地区只有一个名额,与他那个百万学车基金字眼对比来说,又觉得是假的,他上边就支持几个城市,最多下来也就十来万.
不多说了,咱们看看翻牌功能流程是如何实现的,翻牌的时候先去服务器获取“让学车变的更简单”对应每个字的hash串（相同字每次都变，类似动态密码），只随机返回三个字的（如下图所示）

![图二]({{site.baseurl}}/assets/img/2015-08-25/IMG_0620.JPG)

然后拿到这个字的动态密码，访问另外一个接口，去验证这个字是否可以翻牌（如下图所示）

![图三]({{site.baseurl}}/assets/img/2015-08-25/IMG_0621.JPG)

所以要想获得所有字，第一个接口是关键，我就写了个小程序，轮询这个接口，期待缺少字动态密码出现（如下图所示）

![图四]({{site.baseurl}}/assets/img/2015-08-25/IMG_0622.JPG)

下班后,我将我的小程序跑起来,轮询了一夜人家的接口,轮询一次就代表分享一次，时间为1s每次,结果么就是我们被骗了,更有意思的是,车轮网的开发当夜没睡觉，连夜修复这个问题，看了看代码，只是增加了难度，没有从根本上解决问题，而且把不该给人看的注释给删了。从我的小程序爬取结果来看，此程序是php开发的（如下图所示中红色部分中有，昨夜这开发估计太累了，忘了把之前的接口删了，只是把接口调用模块给删了，从而暴露了程序语言，以及程序存放服务器位置）

![图五]({{site.baseurl}}/assets/img/2015-08-25/IMG_0617.JPG)

至于现在改成了什么样，请看下图注释

![图六]({{site.baseurl}}/assets/img/2015-08-25/IMG_0618.JPG)

又过了貌似两三天,我又去看了人家的代码,这次人家对js做了压缩处理,像一些注释什么的都没了,对于一个开发来说,这也是一种进步,对于我来说也是一种学习,今天就到这了,拜拜!!!
